<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>ðŸŽ§ My Spotify Artist</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      color: #222;
      margin: 40px;
      text-align: center;
    }
    h1 {
      color: #1DB954;
      font-size: 2em;
    }
    #artist-card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      display: inline-block;
      margin-top: 20px;
      text-align: left;
      width: 400px;
    }
    img {
      border-radius: 12px;
      width: 100%;
      margin-bottom: 15px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 8px 0;
    }
    a {
      color: #1DB954;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <h1>ðŸŽµ Featured Spotify Artist</h1>
  <div id="artist-card">Loading artist data...</div>

  <script>
    async function loadArtist() {
      try {
        const res = await fetch("spotify_data.json");
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const data = await res.json();

        console.log("Spotify artist data:", data);

        // Extract Spotify artist fields
        const name = data.name || "Unknown Artist";
        const followers = data.followers?.total?.toLocaleString() || "N/A";
        const genres = (data.genres && data.genres.length)
          ? data.genres.join(", ")
          : "N/A";
        const popularity = data.popularity ?? "N/A";
        const imageUrl = data.images?.[0]?.url || "";
        const spotifyUrl = data.external_urls?.spotify || "#";

        document.getElementById("artist-card").innerHTML = `
          <h2>${name}</h2>
          ${imageUrl ? `<img src="${imageUrl}" alt="${name}">` : ""}
          <ul>
            <li><strong>Followers:</strong> ${followers}</li>
            <li><strong>Genres:</strong> ${genres}</li>
            <li><strong>Popularity:</strong> ${popularity}</li>
            <li><strong>Spotify:</strong> <a href="${spotifyUrl}" target="_blank">Open in Spotify</a></li>
          </ul>
        `;
      } catch (err) {
        console.error("Failed to load artist data:", err);
        document.getElementById("artist-card").innerHTML =
          `<p style="color:red;">Error loading artist data. Check console for details.</p>`;
      }
    }

    loadArtist();
  </script>
</body>
</html>
